# Munchr

**Your AI-powered cooking companion.**

Munchr is a recipe search and AI substitution assistant built with Python and Streamlit. Search for any recipe, browse ingredients and step-by-step instructions, and ask Google Gemini AI for ingredient substitutions when you're missing something in your kitchen.

> Built for BABI 4005 — BCIT Business & Data Analytics

---

## Features

| Feature | Description |
|---|---|
| **Live Recipe Search** | Search AllRecipes.com in real time — results are scraped, parsed, and cached locally in SQLite |
| **Local Database** | Recipes are stored after the first search so subsequent lookups are instant |
| **"I'm Feeling Hungry"** | Click once and get a random recipe from your local collection |
| **AI Ingredient Substitutions** | Ask Munchr AI what to use when you're missing an ingredient — powered by Google Gemini |
| **Multi-Ingredient Support** | Ask about multiple missing ingredients at once (e.g. "I don't have cream or parmesan") |
| **Custom UI** | Roboto Mono font, crimson/gold/cream/charcoal colour palette, responsive card grid |

---

## How It Works

```
User searches "chicken tikka"
        │
        ▼
┌──────────────────┐     found?     ┌────────────────────┐
│  Local SQLite DB  │──── yes ──────▶│  Display results   │
└──────────────────┘                └────────────────────┘
        │ no
        ▼
┌──────────────────────────┐        ┌────────────────────┐
│ Scrape AllRecipes.com    │───────▶│ Store in SQLite &   │
│ (BeautifulSoup + lxml)   │        │ display results     │
└──────────────────────────┘        └────────────────────┘

User clicks "View Recipe" → sees ingredients + instructions
User asks "I don't have heavy cream" →
        │
        ▼
┌──────────────────────────┐        ┌────────────────────┐
│ Google Gemini API        │───────▶│ Structured JSON     │
│ (gemini-2.5-flash)       │        │ substitution cards  │
└──────────────────────────┘        └────────────────────┘
```

---

## Tech Stack

- **Python 3.13**
- **Streamlit** — web app framework (UI, routing, session state)
- **recipe-scrapers** — extracts structured data from recipe URLs
- **BeautifulSoup4 + lxml** — parses AllRecipes search result pages
- **google-genai** — Google Gemini AI SDK for ingredient substitutions
- **SQLite** — local database (via Python's built-in `sqlite3`)
- **python-dotenv** — loads API keys from `.env`
- **requests** — HTTP client for scraping

---

## Project Structure

```
munchr/
├── app/
│   └── streamlit_app.py      # Streamlit web app (UI, styling, session state)
├── scraper/
│   └── recipe_scraper.py     # Recipe scraping, SQLite database, live search
├── ai/
│   └── gemini_assistant.py   # Gemini AI ingredient substitution assistant
├── seeds/
│   └── seed_urls.py          # 24 curated AllRecipes URLs for seeding the DB
├── data/
│   └── recipes.db            # SQLite database (auto-created on first run)
├── .env                      # API key (not committed — see .env.example)
├── .env.example              # Template for environment variables
├── .gitignore
├── requirements.txt
├── reflection.md
└── README.md
```

---

## Setup & Installation

### Prerequisites

- Python 3.10+
- A [Google Gemini API key](https://aistudio.google.com/apikey) (free tier works)

### 1. Clone the repository

```bash
git clone https://github.com/gunmentoy/munchr.git
cd munchr
```

### 2. Create a virtual environment

```bash
python3 -m venv venv
source venv/bin/activate        # macOS / Linux
# venv\Scripts\activate         # Windows
```

### 3. Install dependencies

```bash
pip install -r requirements.txt
```

### 4. Add your API key

```bash
cp .env.example .env
```

Open `.env` and replace the placeholder with your actual Gemini API key:

```
GEMINI_API_KEY=your_actual_key_here
```

### 5. (Optional) Seed the database

Pre-load 24 curated recipes so you have data immediately:

```bash
python -m scraper.recipe_scraper
```

### 6. Run the app

```bash
streamlit run app/streamlit_app.py
```

The app will open in your browser at `http://localhost:8501`.

---

## Data Sources

- **AllRecipes.com** — all recipe data (titles, ingredients, instructions, images, cook times) is scraped from [allrecipes.com](https://www.allrecipes.com) using the `recipe-scrapers` library and BeautifulSoup
- **Google Gemini AI** — ingredient substitution suggestions are generated by Gemini 2.5 Flash via the `google-genai` SDK

---

## AI Use Statement

This project was developed with the assistance of **GitHub Copilot (Claude Sonnet 4.6)** for code generation, debugging, and documentation. The AI assistant was used as a pair-programming tool throughout development — all code was reviewed and tested by the developer.

**Google Gemini 2.5 Flash** is used at runtime to generate ingredient substitution suggestions based on recipe context and user queries.

---

## Known Limitations

- **AllRecipes only** — recipe search is limited to allrecipes.com; other recipe sites are not supported
- **Scraping fragility** — if AllRecipes changes their HTML structure, the live search parser may break
- **AI accuracy** — Gemini substitution suggestions are AI-generated and may not always be perfect; use culinary judgment
- **No user accounts** — recipes are stored locally in SQLite; there are no user profiles or saved favourites
- **Rate limits** — both AllRecipes scraping and Gemini API calls are subject to rate limits on heavy use

---

## License

This project was created for academic purposes at BCIT.
